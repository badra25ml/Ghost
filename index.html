<!DOCTYPE html>
<html>
  <head>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.15/angular.min.js"></script>
    <script>
      var app = angular.module("mark", []);
      app.controller("markController", init);
      function init ($scope, $http, $sce){
        $scope.findText = function(data){
          var encode = encodeURIComponent($scope.inputArea);
          $http.get("/markdown/" + encode)
          .success(function(){
            $scope.preview = $sce.trustAsHtml(data);
          })
        }
      }
    </script>
     <link rel="stylesheet" href="css/main.css">
  </head>
  <body ng-app="mark" ng-controller="markController">
    <textarea rows="5" ng-model="inputArea" ng-keyup="findText()"></textarea>
    <div ng-bind-html="preview"></div>
  </body>
</html>
